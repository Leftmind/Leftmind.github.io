(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{388:function(e,t,a){},496:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(20),c=a.n(i),o=a(74),s=a(25),l=a(529),d=a(204),u=a.n(d),m=a(10),j=a.n(m),p=a(17),b=a(18),f=a(15),g=a(8),x=a(521),h=a(524),O=a(525),v=a(563),k=a(44),y=a(527),C=a(528),w=a(326),I=a.n(w),N=a(7),S=a(141),T=(a(498),a(360),a(497),{apiKey:"AIzaSyBeHIIcFMVgpob7AJ9q43rWp7fjzsndrvo",appId:"1:815318095841:web:b7aedf2192fa763df3e4a0",authDomain:"framtidsportalen-ebc81.firebaseapp.com",databaseURL:"https://framtidsportalen-ebc81.firebaseio.com",measurementId:"G-T6H706EMR5",messagingSenderId:"815318095841",projectId:"framtidsportalen-ebc81",storageBucket:"framtidsportalen-ebc81.appspot.com"});S.a.apps.length||S.a.initializeApp(T);var D=a.p+"static/media/bakgrund.c228cca1.jpg",F=a(1),W=Object(N.a)({root:{"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"white"}}}})(x.a);var B=function(){var e=Object(n.useState)(!1),t=Object(g.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)({email:"",password:"",errors:[],loading:!1}),c=Object(g.a)(i,2),o=c[0],l=c[1],d=Object(s.g)(),u=function(e){var t=e.target,a=t.name,n=t.value;l((function(e){return Object(f.a)(Object(f.a)({},e),{},Object(b.a)({},a,n))}))};function m(){return(m=Object(p.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),l({loading:!0}),a={email:o.email,password:o.password},S.a.auth().signInWithEmailAndPassword(a.email,a.password).then((function(e){var t=e.user;console.log(t,"anv\xe4ndare"),r(!0)})).catch((function(e){var t=e.code,a=e.message;console.log(t,a,"error")}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){a&&d.push("/")}),[a,d]),Object(F.jsx)("div",{style:{backgroundImage:"url(".concat(D,")"),backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"repeat-y",backgroundAttachment:"fixed",minHeight:"100vh",width:"100%",height:"100%"},children:Object(F.jsxs)(h.a,{container:!0,direction:"column",alignItems:"center",justify:"center",style:{minHeight:"100vh"},children:[Object(F.jsx)(O.a,{}),Object(F.jsxs)(v.a,{style:{padding:30,backgroundColor:"rgba(150, 203, 60, 0.5)",borderRadius:20,margin:30},children:[Object(F.jsxs)(v.a,{style:{marginBottom:10},display:"flex",justifyContent:"center",alignItems:"center",children:[Object(F.jsx)(I.a,{style:{fontSize:30,color:"white"}}),Object(F.jsx)(k.a,{variant:"h4",style:{color:"white",marginLeft:5},children:"Logga in"})]}),Object(F.jsxs)("form",{noValidate:!0,children:[Object(F.jsx)(W,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Mailadress",name:"email",autoComplete:"email",autoFocus:!0,onChange:u}),Object(F.jsx)(W,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"L\xf6senord",type:"password",id:"password",autoComplete:"current-password",onChange:u,style:{marginBottom:10}}),Object(F.jsxs)(v.a,{style:{padding:20,paddingBottom:10},display:"flex",alignItems:"center",flexDirection:"column",children:[Object(F.jsx)(y.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",onClick:function(e){return m.apply(this,arguments)},style:{marginBottom:20},children:"Logga in"}),Object(F.jsx)(C.a,{href:"signup",variant:"body2",children:"Har du inte ett konto? Skapa konto"})]})]})]})]})})},A=a(531),P=a(532),U=a(533),H=a(534),E=a(110),z=a.n(E),q=a(560),M=function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},progess:{position:"absolute"}}},V=z()({root:{"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"white"}}}})(x.a);var R=z()(M)((function(){var e=Object(n.useState)(!1),t=Object(g.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)(!1),c=Object(g.a)(i,2),o=c[0],l=c[1];function d(e){return Object(F.jsx)(q.a,Object(f.a)({elevation:6,variant:"filled"},e))}var u=Object(n.useState)({firstName:"",lastName:"",phoneNumber:"",school:"",email:"",municipality:"",adress:"",zipCode:"",password:"",confirmPassword:"",errors:[],loading:!1}),m=Object(g.a)(u,2),x=m[0],w=m[1],I=Object(n.useState)(!1),N=Object(g.a)(I,2),T=N[0],W=(N[1],function(e){var t=e.target,a=t.name,n=t.value;w((function(e){return Object(f.a)(Object(f.a)({},e),{},Object(b.a)({},a,n))}))});function B(){return(B=Object(p.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a=x,S.a.auth().createUserWithEmailAndPassword(a.email,a.password).then(function(){var e=Object(p.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.user;case 2:return n=e.sent,e.next=5,S.a.firestore().collection("users").doc(n.uid).set({email:a.email,password:a.password,firstName:a.firstName,lastName:a.lastName,phoneNumber:a.phoneNumber,school:a.school,municipality:a.municipality,zipCode:a.zipCode,adress:a.adress});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(){return r(!0)})).catch((function(e){return l(!0)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return a?Object(F.jsx)(s.a,{to:"/"}):Object(F.jsx)("div",{style:{backgroundImage:"url(".concat(D,")"),backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"repeat-y",backgroundAttachment:"fixed",minHeight:"100vh",width:"100%",height:"100%"},children:Object(F.jsx)(h.a,{container:!0,direction:"column",alignItems:"center",justify:"center",style:{minHeight:"100vh"},children:Object(F.jsx)(v.a,{style:{padding:10,paddingTop:30,paddingBottom:30,backgroundColor:"rgba(150, 203, 60, 0.6)",borderRadius:20,margin:30},children:Object(F.jsxs)(A.a,{component:"main",maxWidth:"xs",children:[Object(F.jsx)(O.a,{}),Object(F.jsxs)("div",{className:M.paper,children:[Object(F.jsx)(k.a,{align:"center",variant:"h4",style:{color:"white",marginBottom:20},children:"Skapa konto"}),Object(F.jsxs)("form",{noValidate:!0,children:[Object(F.jsxs)(h.a,{container:!0,spacing:2,children:[Object(F.jsx)(h.a,{item:!0,xs:12,sm:6,children:Object(F.jsx)(V,{variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"F\xf6rnamn",name:"firstName",autoComplete:"firstName",onChange:W})}),Object(F.jsx)(h.a,{item:!0,xs:12,sm:6,children:Object(F.jsx)(V,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Efternamn",name:"lastName",autoComplete:"lastName",onChange:W})}),Object(F.jsx)(h.a,{item:!0,xs:12,sm:6,children:Object(F.jsx)(V,{variant:"outlined",required:!0,fullWidth:!0,id:"school",label:"Skola",name:"school",autoComplete:"school",onChange:W})}),Object(F.jsx)(h.a,{item:!0,xs:12,sm:6,children:Object(F.jsx)(V,{variant:"outlined",required:!0,fullWidth:!0,id:"phoneNumber",label:"Telefonnummer",name:"phoneNumber",autoComplete:"phoneNumber",pattern:"[7-9]{1}[0-9]{9}",onChange:W})}),Object(F.jsx)(h.a,{item:!0,xs:12,children:Object(F.jsx)(V,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Mailadress",name:"email",autoComplete:"email",onChange:W})}),Object(F.jsx)(h.a,{item:!0,xs:12,children:Object(F.jsx)(V,{variant:"outlined",required:!0,fullWidth:!0,id:"municipality",label:"Kommun",name:"municipality",autoComplete:"municipality",onChange:W})}),Object(F.jsx)(h.a,{item:!0,xs:12,children:Object(F.jsx)(V,{variant:"outlined",required:!0,fullWidth:!0,id:"adress",label:"Gatuadress",name:"adress",autoComplete:"adress",onChange:W})}),Object(F.jsx)(h.a,{item:!0,xs:12,children:Object(F.jsx)(V,{variant:"outlined",required:!0,fullWidth:!0,id:"zipcode",label:"Postnummer",name:"zipcode",autoComplete:"zipcode",onChange:W})}),Object(F.jsx)(h.a,{item:!0,xs:12,children:Object(F.jsx)(V,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"L\xf6senord",type:"password",id:"password",autoComplete:"current-password",onChange:W})}),Object(F.jsx)(h.a,{item:!0,xs:12,children:Object(F.jsx)(V,{variant:"outlined",required:!0,fullWidth:!0,name:"confirmPassword",label:"Repetera L\xf6senord",type:"password",id:"confirmPassword",autoComplete:"current-password",onChange:W})})]}),Object(F.jsx)(P.a,{}),Object(F.jsxs)(v.a,{style:{padding:20,paddingBottom:10},display:"flex",alignItems:"center",flexDirection:"column",children:[Object(F.jsxs)(y.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",onClick:function(e){return B.apply(this,arguments)},style:{marginBottom:20,paddingTop:10,paddingBottom:10},children:["Skapa Konto",T&&Object(F.jsx)(U.a,{size:30})]}),Object(F.jsx)(C.a,{href:"login",variant:"body2",children:"Har du redan ett konto? Logga in"})]})]})]}),Object(F.jsx)(H.a,{open:o,autoHideDuration:3e3,children:Object(F.jsxs)(d,{onClick:function(){l(!1)},severity:"error",children:["N\xe5t gick fel, st\xe4mmer allt?"," "]})})]})})})})})),L=a(508),G=a(564),K=a(512),_=a(556),Y=a(539),J=a(557),Q=a(555),X=a(530),Z=a(562),$=a(559),ee=a(344),te=a.n(ee),ae=a(339),ne=a.n(ae),re=a(211),ie=a.n(re),ce=a(340),oe=a.n(ce),se=a(341),le=a.n(se),de=a(343),ue=a.n(de),me=a(540),je=a(26),pe=a(342),be=a.n(pe),fe=a(535),ge=a(536);var xe=function(e){var t=e.join,a=e.onChange,r=Object(n.useState)(""),i=Object(g.a)(r,2),c=i[0],o=i[1];Object(n.useEffect)(Object(p.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("????",c),a(c);case 2:case"end":return e.stop()}}),e)}))),[c]);var s=Object(n.useState)({companyName:""}),l=Object(g.a)(s,2),d=l[0],u=l[1];return Object(F.jsx)(fe.a,{sx:{height:"100%",width:"100%"},children:Object(F.jsxs)(ge.a,{style:{justifyContent:"center"},children:[Object(F.jsx)(h.a,{container:!0,spacing:3,children:Object(F.jsx)(h.a,{item:!0,children:Object(F.jsx)(y.a,{variant:"contained",color:"primary",fullWidth:!0,onClick:function(){o(t?{create:!0}:{create:!1,companyName:d.companyName})},children:t?"Starta ett nytt f\xf6retag":"Joina existerande f\xf6retag"})})}),Object(F.jsx)(v.a,{sx:{pt:2,display:"flex",alignItems:"center"},children:Object(F.jsx)(k.a,{color:"textSecondary",variant:"caption",children:t?"Klicka h\xe4r om du vill starta ditt eget f\xf6retag, du kan sedan v\xe4lja att bjuda in dina v\xe4nner.":Object(F.jsx)(x.a,{variant:"outlined",required:!0,fullWidth:!0,id:"companyName",label:"f\xf6retagets namn du vill joina",name:"companyName",onChange:function(e){var t=e.target,a=t.name,n=t.value;u((function(e){return Object(f.a)(Object(f.a)({},e),{},Object(b.a)({},a,n))}))},style:{marginTop:10}})})})]})})},he=Object(n.createContext)({user:null,loading:!0,logout:function(){}}),Oe=function(e){var t=e.children,a=Object(n.useState)(null),r=Object(g.a)(a,2),i=r[0],c=r[1],o=Object(n.useState)(!0),s=Object(g.a)(o,2),l=s[0],d=s[1];return Object(n.useEffect)((function(){var e=S.a.auth().onIdTokenChanged((function(e){c(e),d(!1)}));return function(){return e()}}),[]),Object(F.jsx)(he.Provider,{value:{user:i,loading:l,logout:function(){return S.a.auth().signOut()}},children:t})};function ve(){return Object(n.useContext)(he)}var ke=function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},progess:{position:"absolute"}}};function ye(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t="",a=0;a<20;a++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}var Ce=z()(ke)((function(e){var t=ve(),a=t.user,r=t.loading,i=(t.logout,Object(n.useState)(!1)),c=Object(g.a)(i,2),o=c[0],s=c[1],l=Object(n.useState)(!1),d=Object(g.a)(l,2),u=d[0],m=d[1],v=Object(n.useState)({bio:"",companyName:"",facebook:"",instagram:"",website:""}),C=Object(g.a)(v,2),w=C[0],I=C[1],N=function(e){var t=e.target,a=t.name,n=t.value;I((function(e){return Object(f.a)(Object(f.a)({},e),{},Object(b.a)({},a,n))}))};function T(e){return Object(F.jsx)(q.a,Object(f.a)({elevation:6,variant:"filled"},e))}function D(){return(D=Object(p.a)(j.a.mark((function e(t){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=w,console.log(n," this is it "),t.preventDefault(),r=ye(),console.log([{completed:!1,descriptionText:"Vad \xe4r ett f\xf6retag utan kunder? Vad \xe4r Snapchat utan anv\xe4ndare? Vad \xe4r en pizza utan bearnaises\xe5s? Ja, du fattar. Utan kunder \xe4r det varken kul eller s\xe4rskilt l\xf6nsamt att driva ett f\xf6retag. - S\xe5 upp med och leta reda p\xe5 din f\xf6rsta kund. Vi tror p\xe5 dig",id:0,text:"min f\xf6rsta kund"},{completed:!1,descriptionText:"100 kronor l\xe5ter kanske inte s\xe5 mycket, med med din f\xf6rsta hundralapp \xe4r du 100 kronor n\xe4rmare ditt m\xe5l. Det \xe4r v\xe4l vart att fira med att tj\xe4na ytterligare n\xe5gra hundralappar? K\xe4nslan att - p\xe5 egen h\xe5nd - tj\xe4na pengar (\xe4ven om det \xe4r 100 kronor) \xe4r fantastisk! Eller hur?",id:1,text:"f\xf6rsta hundralappen"},{completed:!1,descriptionText:"F\xf6rutom att det \xe4r kul att samarbeta kan du tj\xe4na p\xe5 det ocks\xe5. Leta reda p\xe5 ett f\xf6retag som du tror kan fungera med ditt. Det kan vara ett lokalt f\xf6retag, en internationell j\xe4tte eller ett annat FF-f\xf6retag. Bolla id\xe9er med varandra. Hur kan ni hj\xe4lpas \xe5t? Anv\xe4nd fantasin!",id:2,text:"samarbeta med andra"},{completed:!1,descriptionText:"Vad \xe4r b\xe4ttre \xe4n 1999 sp\xe4nn? jo, 2000! Nu \xe4r du en sylvass entrepren\xf6r och \xe4r redo at dra in de rej\xe4la pengarna. 2000 kronor \xe4r bara b\xf6rjan p\xe5 ditt stora imperium. Eller hur?",id:3,text:"tj\xe4na 2000kr"},{completed:!1,descriptionText:"Skapa en logga f\xf6r dit f\xf6retag. Detta \xe4r dit f\xf6retags ansikte ut\xe5t. Canva (www.canva.com) \xe4r ett grattis grafisk design platform f\xf6r att skapa grafik, presentationer, affischer, dokument och annat visuellt inneh\xe5l p\xe5 social media.",id:4,text:"f\xf6retagslogga"},{completed:!1,descriptionText:"Genom sociala medier kan du kommunicera med dina kunder och marknadsf\xf6ra din produkter/tj\xe4nster. T\xe4nk p\xe5 dina kunder - var finns dem? Hur kan/ska du kommunicera?",id:5,text:"instagramkonto"},{completed:!1,descriptionText:"Genom sociala medier kan du kommunicera med dina kunder och marknadsf\xf6ra din produkter/tj\xe4nster. T\xe4nk p\xe5 dina kunder - var finns dem? Hur kan/ska du kommunicera?",id:6,text:"facebookkonto"},{completed:!1,descriptionText:"F\xf6r att synas kan det vara bra att g\xf6ra egna annonser. Det kan vara digitala annonser som du delar p\xe5 sociala medier eller skriver ut och delar ut i brevl\xe5dor eller h\xe4nger upp p\xe5 en anslagstavla. Var tydlig med vad du vill s\xe4ga till dina kunder - vad erbjuder du? priser? kampanjer? kontaktinformation?",id:7,text:"g\xf6r en annons"}],"all goals"),e.next=7,S.a.firestore().collection("companies").doc(r).set({bio:n.bio,companyName:n.companyName,facebook:n.facebook,instagram:n.instagram,website:n.website,companyId:r,members:[{admin:!0,firstName:o.firstName,lastName:o.lastName,userId:a.uid,pending:!1}],expenses:[],profits:[],challenges:[{completed:!1,descriptionText:"Vad \xe4r ett f\xf6retag utan kunder? Vad \xe4r Snapchat utan anv\xe4ndare? Vad \xe4r en pizza utan bearnaises\xe5s? Ja, du fattar. Utan kunder \xe4r det varken kul eller s\xe4rskilt l\xf6nsamt att driva ett f\xf6retag. - S\xe5 upp med och leta reda p\xe5 din f\xf6rsta kund. Vi tror p\xe5 dig",id:0,text:"min f\xf6rsta kund"},{completed:!1,descriptionText:"100 kronor l\xe5ter kanske inte s\xe5 mycket, med med din f\xf6rsta hundralapp \xe4r du 100 kronor n\xe4rmare ditt m\xe5l. Det \xe4r v\xe4l vart att fira med att tj\xe4na ytterligare n\xe5gra hundralappar? K\xe4nslan att - p\xe5 egen h\xe5nd - tj\xe4na pengar (\xe4ven om det \xe4r 100 kronor) \xe4r fantastisk! Eller hur?",id:1,text:"f\xf6rsta hundralappen"},{completed:!1,descriptionText:"F\xf6rutom att det \xe4r kul att samarbeta kan du tj\xe4na p\xe5 det ocks\xe5. Leta reda p\xe5 ett f\xf6retag som du tror kan fungera med ditt. Det kan vara ett lokalt f\xf6retag, en internationell j\xe4tte eller ett annat FF-f\xf6retag. Bolla id\xe9er med varandra. Hur kan ni hj\xe4lpas \xe5t? Anv\xe4nd fantasin!",id:2,text:"samarbeta med andra"},{completed:!1,descriptionText:"Vad \xe4r b\xe4ttre \xe4n 1999 sp\xe4nn? jo, 2000! Nu \xe4r du en sylvass entrepren\xf6r och \xe4r redo at dra in de rej\xe4la pengarna. 2000 kronor \xe4r bara b\xf6rjan p\xe5 ditt stora imperium. Eller hur?",id:3,text:"tj\xe4na 2000kr"},{completed:!1,descriptionText:"Skapa en logga f\xf6r dit f\xf6retag. Detta \xe4r dit f\xf6retags ansikte ut\xe5t. Canva (www.canva.com) \xe4r ett grattis grafisk design platform f\xf6r att skapa grafik, presentationer, affischer, dokument och annat visuellt inneh\xe5l p\xe5 social media.",id:4,text:"f\xf6retagslogga"},{completed:!1,descriptionText:"Genom sociala medier kan du kommunicera med dina kunder och marknadsf\xf6ra din produkter/tj\xe4nster. T\xe4nk p\xe5 dina kunder - var finns dem? Hur kan/ska du kommunicera?",id:5,text:"instagramkonto"},{completed:!1,descriptionText:"Genom sociala medier kan du kommunicera med dina kunder och marknadsf\xf6ra din produkter/tj\xe4nster. T\xe4nk p\xe5 dina kunder - var finns dem? Hur kan/ska du kommunicera?",id:6,text:"facebookkonto"},{completed:!1,descriptionText:"F\xf6r att synas kan det vara bra att g\xf6ra egna annonser. Det kan vara digitala annonser som du delar p\xe5 sociala medier eller skriver ut och delar ut i brevl\xe5dor eller h\xe4nger upp p\xe5 en anslagstavla. Var tydlig med vad du vill s\xe4ga till dina kunder - vad erbjuder du? priser? kampanjer? kontaktinformation?",id:7,text:"g\xf6r en annons"}]}).then((function(){W(n,r)})).catch((function(e){console.log("error",e)}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e,t){return B.apply(this,arguments)}function B(){return(B=Object(p.a)(j.a.mark((function e(t,n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.firestore().collection("users").doc(a.uid).set({companies:[{companyId:n,companyName:t.companyName}]},{merge:!0});case 2:m(!0);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)(Object(p.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=6;break}return t=S.a.firestore().collection("users").doc(a.uid),e.next=4,t.get();case 4:n=e.sent,s(n.data());case 6:case"end":return e.stop()}}),e)}))),[a]),Object(F.jsx)(fe.a,{children:Object(F.jsxs)(A.a,{component:"main",maxWidth:"xs",children:[Object(F.jsx)(O.a,{}),Object(F.jsxs)("div",{className:ke.paper,children:[Object(F.jsx)(k.a,{align:"center",component:"h1",variant:"h5",children:"Skapa F\xf6retag"}),Object(F.jsxs)("form",{noValidate:!0,children:[Object(F.jsxs)(h.a,{container:!0,spacing:2,children:[Object(F.jsx)(h.a,{item:!0,xs:12,sm:6,children:Object(F.jsx)(x.a,{variant:"outlined",required:!0,fullWidth:!0,id:"companyName",label:"F\xf6retagets namn",name:"companyName",onChange:N})}),Object(F.jsx)(h.a,{item:!0,xs:12,sm:6,children:Object(F.jsx)(x.a,{variant:"outlined",required:!0,fullWidth:!0,id:"instagram",label:"Instagram",name:"instagram",onChange:N})}),Object(F.jsx)(h.a,{item:!0,xs:12,sm:6,children:Object(F.jsx)(x.a,{variant:"outlined",required:!0,fullWidth:!0,id:"facebook",label:"Facebook",name:"facebook",onChange:N})}),Object(F.jsx)(h.a,{item:!0,xs:12,sm:6,children:Object(F.jsx)(x.a,{variant:"outlined",required:!0,fullWidth:!0,id:"website",label:"Hemsida",name:"website",pattern:"[7-9]{1}[0-9]{9}",onChange:N})}),Object(F.jsx)(h.a,{item:!0,xs:12,sm:12,children:Object(F.jsx)(x.a,{variant:"outlined",required:!0,fullWidth:!0,id:"bio",label:"Aff\xe4rsid\xe9",name:"bio",onChange:N})})]}),Object(F.jsx)(P.a,{}),Object(F.jsxs)(y.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",onClick:function(e){return D.apply(this,arguments)},style:{marginTop:"10px",marginBottom:"10px"},children:["Skapa f\xf6retag",r&&Object(F.jsx)(U.a,{size:30})]}),Object(F.jsx)(P.a,{})]})]}),Object(F.jsx)(H.a,{open:u,autoHideDuration:3e3,children:Object(F.jsx)(T,{onClick:function(){m(!1)},severity:"success",children:"F\xf6retaget skapades! Grattis, nu \xe4r det bara att k\xf6ra ig\xe5ng!"})})]})})})),we=a(150),Ie=a.n(we),Ne=a(537),Se=a(538),Te=a(327),De=a.n(Te),Fe=a(329),We=a.n(Fe),Be=a(328),Ae=a.n(Be);var Pe=function(e){var t=e.usedUser,a=ve(),r=(a.user,a.loading,a.logout,Object(n.useState)(!1)),i=Object(g.a)(r,2),c=i[0],o=i[1],s=Object(n.useState)(!1),l=Object(g.a)(s,2),d=l[0],u=l[1],m=Object(n.useState)(!1),b=Object(g.a)(m,2),x=b[0],h=b[1],O=Object(n.useState)(!1),k=Object(g.a)(O,2),y=k[0],C=k[1];function w(e){return Object(F.jsx)(q.a,Object(f.a)({elevation:6,variant:"filled"},e))}function I(){return(I=Object(p.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t,e.next=3,S.a.firestore().collection("companies").where("companyId","==",d.companyId).get().then((function(e){e.empty?console.log("did not work"):(e.forEach((function(e){console.log("here is the doc",e),console.log(e.data(),"data doc"),e.data().members.forEach((function(t){console.log("heres a member",t),t.userId==a&&1==t.pending&&(console.log(t,"the member met the criteria"),S.a.firestore().collection("companies").doc(e.data().companyId).set({members:S.a.firestore.FieldValue.arrayUnion({admin:!1,firstName:t.firstName,lastName:t.lastName,pending:!1,userId:a})},{merge:!0}),S.a.firestore().collection("companies").doc(e.data().companyId).set({members:S.a.firestore.FieldValue.arrayRemove({admin:!1,firstName:t.firstName,lastName:t.lastName,pending:!0,userId:a})},{merge:!0}),console.log(e.data().userId,e.data().companyName,a," all things"),S.a.firestore().collection("users").doc(a).set({companies:[{companyId:e.data().companyId,companyName:e.data().companyName}]},{merge:!0}))}))})),console.log("works"))}));case 3:e.sent;case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)(Object(p.a)(j.a.mark((function e(){var a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(t),console.log(x,"fr\xe5n account profile page"),a=S.a.firestore().collection("companies").doc(t.companies[0].companyId),e.next=5,a.get();case 5:n=e.sent,u(n.data()),console.log(d),console.log(n.data().members,"company data"),C(n.data().members);case 10:case"end":return e.stop()}}),e)}))),[]),y?Object(F.jsxs)(fe.a,{children:[Object(F.jsx)(Ne.a,{title:"Alla medlemmar"}),Object(F.jsx)(P.a,{}),Object(F.jsx)(L.a,{children:y.map((function(e,t){return Object(F.jsxs)(K.a,{divider:t<e.length-1,children:[Object(F.jsx)(Se.a,{children:Object(F.jsx)(De.a,{})}),Object(F.jsx)(Y.a,{primary:"".concat(e.firstName," ").concat(e.lastName),secondary:e.admin?"Status: Admin":e.pending?"Status : Inv\xe4ntar godk\xe4nnande":"Status: Medlem"}),e.pending?Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(X.a,{edge:"end",size:"small",children:Object(F.jsx)(Ae.a,{})}),Object(F.jsx)(X.a,{edge:"end",size:"small",onClick:function(){return function(e){return I.apply(this,arguments)}(e.userId)},children:Object(F.jsx)(We.a,{})})]}):null]},e.userId)}))}),Object(F.jsx)(P.a,{}),Object(F.jsx)(v.a,{sx:{display:"flex",justifyContent:"flex-end",p:2}}),Object(F.jsx)(H.a,{open:c,autoHideDuration:3e3,children:Object(F.jsx)(w,{onClick:function(){o(!1)},severity:"success",children:"Medlem accepterad!"})})]}):null},Ue=(a(388),Object(me.a)({root:{width:"100%",backgroundColor:"#f3f3f2"},cardTitle:{backgroundColor:"#96CB3C",padding:10,color:"white",fontWeight:"600",marginTop:20,fontFamily:"Montserrat, sans-serif",fontSize:30}}));function He(e){var t=e.text,a=Ue();return Object(F.jsx)(k.a,{gutterBottom:!0,component:"h1",align:"center",className:a.cardTitle,children:t})}var Ee=a(541),ze=a(330),qe=a.n(ze),Me=function(e){var t=e.loading,a=e.uploadedImage,n=e.onFileChange,r=e.company;return Object(F.jsxs)(v.a,{style:{alignItems:"center",display:"flex",flexDirection:"column",paddingTop:10},children:[a&&!t?Object(F.jsx)(Ee.a,{component:"img",alt:"company image",image:a,title:"Company Image",style:{borderRadius:200,height:200,width:200}}):Object(F.jsx)(F.Fragment,{children:t?Object(F.jsx)(v.a,{style:{height:200,width:200,borderRadius:200,backgroundColor:"#bdbdbd",alignItems:"center",justifyContent:"center",display:"flex",flexDirection:"column"},children:Object(F.jsx)(U.a,{color:"secondary"})}):Object(F.jsx)(G.a,{src:qe.a,style:{alignItems:"center",display:"flex",flexDirection:"column",height:200,width:200}})}),Object(F.jsxs)(y.a,{color:"primary",variant:"contained",component:"label",style:{marginTop:20},children:["Ladda upp ".concat(r?"f\xf6retagsbild":"profilbild"),Object(F.jsx)("input",{type:"file",hidden:!0,onChange:n})]}),Object(F.jsx)(k.a,{color:"textSecondary",variant:"body1"})]})},Ve=S.a.storage(),Re=function(e){var t=e.usedUser,a=Object(n.useState)(!1),r=Object(g.a)(a,2),i=r[0],c=r[1],o=Object(n.useState)(!1),s=Object(g.a)(o,2),l=s[0],d=s[1],u=Object(n.useState)({facebook:"-",instagram:"-",website:"-",bio:"-"}),m=Object(g.a)(u,2),O=m[0],v=m[1],k=Object(n.useState)(null),C=Object(g.a)(k,2),w=C[0],I=C[1],N=Object(n.useState)(""),T=Object(g.a)(N,2),D=(T[0],T[1]),W=Object(n.useState)(!1),B=Object(g.a)(W,2),A=B[0],P=B[1],U=(ve().user,function(){var e=Object(p.a)(j.a.mark((function e(){var a,n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),a=Ve.ref(),n=a.child(l.name),e.next=5,n.put(l);case 5:return e.next=7,n.getDownloadURL();case 7:return r=e.sent,e.next=10,S.a.firestore().collection("companies").doc(t.companies[0].companyId).set({companyImage:r},{merge:!0}).catch((function(e){console.log(e,"error message")}));case 10:I(r),P(!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());function E(e){return Object(F.jsx)(q.a,Object(f.a)({elevation:6,variant:"filled"},e))}Object(n.useEffect)((function(){l&&U()}),[l]);function z(){return(z=Object(p.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,S.a.firestore().collection("companies").doc(O.companyId).set({facebook:O.facebook,instagram:O.instagram,website:O.website,bio:O.bio},{merge:!0}).then((function(e){return c(!0)})).catch((function(e){console.log(e,"error message")}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){D(t);var e=S.a.firestore().collection("companies").doc(t.companies[0].companyId);Object(p.a)(j.a.mark((function t(){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get();case 2:a=t.sent,v(a.data()),I(a.data().companyImage);case 5:case"end":return t.stop()}}),t)})))()}),[t]);var M=function(e){v(Object(f.a)(Object(f.a)({},O),{},Object(b.a)({},e.target.name,e.target.value)))};return Object(F.jsx)("form",{autoComplete:"off",noValidate:!0,children:Object(F.jsxs)(fe.a,{children:[Object(F.jsx)(He,{text:"Mitt F\xf6retag"}),Object(F.jsx)(h.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",children:Object(F.jsx)(Me,{loading:A,uploadedImage:w,onFileChange:function(e){return d(e.target.files[0])},company:!0})}),Object(F.jsx)(Ne.a,{title:O.companyName,style:{paddingTop:20,paddingBottom:20}}),Object(F.jsx)(ge.a,{children:Object(F.jsxs)(h.a,{container:!0,spacing:3,children:[Object(F.jsx)(h.a,{item:!0,md:12,xs:12,children:Object(F.jsx)(x.a,{fullWidth:!0,label:"F\xf6retagets bio",name:"bio",onChange:M,required:!0,value:O.bio,variant:"outlined"})}),Object(F.jsx)(h.a,{item:!0,md:6,xs:12,children:Object(F.jsx)(x.a,{fullWidth:!0,label:"Instagram",name:"instagram",onChange:M,required:!0,value:O.instagram,variant:"outlined"})}),Object(F.jsx)(h.a,{item:!0,md:6,xs:12,children:Object(F.jsx)(x.a,{fullWidth:!0,label:"f\xf6retagets facebook",name:"facebook",onChange:M,required:!0,value:O.facebook,variant:"outlined"})}),Object(F.jsx)(h.a,{item:!0,md:12,xs:12,children:Object(F.jsx)(x.a,{fullWidth:!0,label:"F\xf6retagets hemsida",name:"website",onChange:M,required:!0,value:O.website,variant:"outlined"})})]})}),Object(F.jsx)(h.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",xs:12,style:{padding:20},children:Object(F.jsx)(y.a,{color:"primary",variant:"contained",onClick:function(e){return z.apply(this,arguments)},children:"Spara"})}),Object(F.jsx)(H.a,{open:i,autoHideDuration:3e3,children:Object(F.jsxs)(E,{onClick:function(){c(!1)},severity:"success",children:["F\xf6retagsinformation uppdaterad!"," "]})})]})})};var Le=function(e){var t=e.usedUser,a="companies"in t,r=Object(n.useState)(""),i=Object(g.a)(r,2),c=i[0],o=i[1],s=ve(),l=s.user,d=(s.loading,s.logout,Object(n.useState)(!1)),u=Object(g.a)(d,2),m=u[0],j=u[1],p=Object(n.useState)(!1),b=Object(g.a)(p,2),x=b[0],O=b[1],v=Object(n.useState)(!1),k=Object(g.a)(v,2);function y(e){return Object(F.jsx)(q.a,Object(f.a)({elevation:6,variant:"filled"},e))}return k[0],k[1],Object(n.useEffect)((function(){if(c&&!c.create&&c.companyName)try{S.a.firestore().collection("companies").where("companyName","==",c.companyName).get().then((function(e){console.log("WTF IM HERE"),e.empty?(console.log("did not found"),O(!0)):(e.forEach((function(e){S.a.firestore().collection("companies").doc(e.data().companyId).update({members:S.a.firestore.FieldValue.arrayUnion({admin:!1,userId:l.uid,pending:!0,firstName:t.firstName,lastName:t.lastName})})})),console.log("did found and go well"),j(!0))}))}catch(e){console.log(e,"fb error")}}),[c,t.firstName,l.uid,t.lastName]),Object(F.jsxs)(A.a,{children:[Object(F.jsx)(h.a,{container:!0,spacing:3,children:a?Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(h.a,{item:!0,xs:12,children:Object(F.jsx)(Re,{usedUser:t})}),Object(F.jsx)(h.a,{item:!0,xs:12,children:Object(F.jsx)(Pe,{usedUser:t})})]}):Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(h.a,{item:!0,xs:12,children:Object(F.jsx)(xe,{join:!1,onChange:function(e){e.create?o({create:e.create}):o({create:e.create,companyName:e.companyName}),console.log(e,"what Page")}})}),Object(F.jsx)(h.a,{item:!0,lg:8,md:12,xl:9,xs:12,children:Object(F.jsx)(Ce,{})})]})}),Object(F.jsx)(H.a,{open:m,autoHideDuration:3e3,children:Object(F.jsx)(y,{onClick:function(){j(!1)},severity:"success",children:"F\xf6rfr\xe5gan skickad! Nu \xe4r det bara att v\xe4nta"})}),Object(F.jsx)(H.a,{open:x,autoHideDuration:3e3,children:Object(F.jsx)(y,{onClick:function(){O(!1)},severity:"error",children:"Hittade inte f\xf6retaget, se till att allt st\xe5r r\xe4tt!"})})]})},Ge=S.a.storage(),Ke=function(e){var t=e.usedUser,a=t.userImage?t.userImage:null,r=Object(n.useState)(!1),i=Object(g.a)(r,2),c=i[0],o=i[1],s=Object(n.useState)(Object(f.a)({},t)),l=Object(g.a)(s,2),d=l[0],u=l[1],m=Object(n.useState)(null),O=Object(g.a)(m,2),v=O[0],k=O[1],C=Object(n.useState)(a),w=Object(g.a)(C,2),I=w[0],N=w[1],T=Object(n.useState)(!1),D=Object(g.a)(T,2),W=D[0],B=D[1],A=ve().user,P=function(){var e=Object(p.a)(j.a.mark((function e(){var t,a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B(!0),t=Ge.ref(),a=t.child(v.name),e.next=5,a.put(v);case 5:return e.next=7,a.getDownloadURL();case 7:return n=e.sent,e.next=10,S.a.firestore().collection("users").doc(A.uid).set({userImage:n},{merge:!0}).catch((function(e){console.log(e,"error message")}));case 10:N(n),B(!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function U(e){return Object(F.jsx)(q.a,Object(f.a)({elevation:6,variant:"filled"},e))}Object(n.useEffect)((function(){v&&P()}),[v]);function E(){return(E=Object(p.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(d," this is the userinfo"),e.next=4,S.a.firestore().collection("users").doc(A.uid).set({email:d.email,firstName:d.firstName,lastName:d.lastName,phoneNumber:d.phoneNumber,school:d.school,municipality:d.municipality,zipCode:d.zipCode,adress:d.adress},{merge:!0}).then((function(){return o(!0)})).catch((function(e){console.log(e,"error message")}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var z=function(e){u(Object(f.a)(Object(f.a)({},d),{},Object(b.a)({},e.target.name,e.target.value)))};return Object(F.jsx)("form",{autoComplete:"off",noValidate:!0,children:Object(F.jsxs)(fe.a,{children:[Object(F.jsx)(He,{text:"Min Profil"}),Object(F.jsx)(h.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",children:Object(F.jsx)(Me,{loading:W,uploadedImage:I,onFileChange:function(e){return k(e.target.files[0])},profil:!0})}),Object(F.jsx)(Ne.a,{subheader:"Du kan \xe4ndra informationen h\xe4r",title:"Profil",style:{marginTop:10,marginBottom:10}}),Object(F.jsx)(ge.a,{children:Object(F.jsxs)(h.a,{container:!0,spacing:3,children:[Object(F.jsx)(h.a,{item:!0,md:6,xs:12,children:Object(F.jsx)(x.a,{fullWidth:!0,label:"f\xf6rnamn",name:"firstName",onChange:z,required:!0,value:d.firstName,disabled:!0,variant:"outlined"})}),Object(F.jsx)(h.a,{item:!0,md:6,xs:12,children:Object(F.jsx)(x.a,{fullWidth:!0,label:"Efternamn",name:"lastName",onChange:z,required:!0,value:d.lastName,disabled:!0,variant:"outlined"})}),Object(F.jsx)(h.a,{item:!0,md:6,xs:12,children:Object(F.jsx)(x.a,{fullWidth:!0,label:"Mailadress",name:"email",onChange:z,required:!0,disabled:!0,value:d.email,variant:"outlined"})}),Object(F.jsx)(h.a,{item:!0,md:6,xs:12,children:Object(F.jsx)(x.a,{fullWidth:!0,label:"Telefonnummer",name:"phone",onChange:z,value:d.phoneNumber,variant:"outlined"})}),Object(F.jsx)(h.a,{item:!0,md:6,xs:12,children:Object(F.jsx)(x.a,{fullWidth:!0,label:"kommun",name:"municipality",onChange:z,required:!0,value:d.municipality,variant:"outlined"})}),Object(F.jsx)(h.a,{item:!0,md:6,xs:12,children:Object(F.jsx)(x.a,{fullWidth:!0,label:"Adress",name:"adress",onChange:z,required:!0,value:d.adress,variant:"outlined"})}),Object(F.jsx)(h.a,{item:!0,md:6,xs:12,children:Object(F.jsx)(x.a,{fullWidth:!0,label:"Skola",name:"school",onChange:z,required:!0,value:d.school,variant:"outlined"})}),Object(F.jsx)(h.a,{item:!0,md:6,xs:12,children:Object(F.jsx)(x.a,{fullWidth:!0,label:"Postnummer",name:"zipCode",onChange:z,required:!0,value:d.zipCode,variant:"outlined"})})]})}),Object(F.jsx)(h.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",xs:12,style:{padding:20,paddingBottom:32},children:Object(F.jsx)(y.a,{color:"primary",variant:"contained",onClick:function(e){return E.apply(this,arguments)},children:"Spara"})}),Object(F.jsx)(H.a,{open:c,autoHideDuration:3e3,children:Object(F.jsxs)(U,{onClick:function(){o(!1)},severity:"success",children:["Profil uppdaterad!"," "]})})]})})},_e=function(e){var t=e.usedUser;return Object(F.jsx)(A.a,{children:Object(F.jsx)(Ke,{usedUser:t})})},Ye=a(542),Je=a(543),Qe=a(544),Xe=a(545),Ze=a(332),$e=a.n(Ze),et=a(209),tt=a.n(et),at=a(208),nt=a.n(at),rt=a(331),it=a.n(rt),ct=a.p+"static/media/badge_first_customer.2b03487d.png",ot=a.p+"static/media/badge_2000_points.3c5a5888.png",st=a.p+"static/media/badge_cooperation.370c388d.png",lt=a.p+"static/media/badge_first_hundred_kronor.3bac784e.png",dt=Object(me.a)({root:{width:"100%",backgroundColor:"#f3f3f2"},cardTitle:{backgroundColor:"#96CB3C",padding:20,color:"white",fontWeight:"600"},cardContent:{paddingLeft:0,paddingRight:0},gridContainer:{padding:"16px",paddingBottom:"24px",paddingLeft:10,paddingRight:10},utmaningCardTitle:{textTransform:"uppercase",fontWeight:"600",paddingTop:20,paddingBottom:20},cardImage:{width:"100%",height:"50%"},gridCard:{height:"100%",transition:"transform 0.15s ease-in-out","&:hover":{transform:"scale3d(1.05, 1.05, 1)"}},cardContentContainer:{flexDirection:"column",justifyContent:"center"},iconHolder:{width:"100%",textAlign:"center"},utmaningDescriptionHeader:{textTransform:"uppercase",fontWeight:600,width:"100%",textAlign:"center"},utmaningDescription:{width:"100%",paddingLeft:"10%",paddingRight:"10%",paddingTop:20,paddingBottom:20},filledStar:{fill:"#ede21b"},dialogBannerCheck:{fill:"white"},dialogTitle:{textTransform:"uppercase",fontWeight:600,color:"#96CB3C",paddingTop:20,paddingBottom:20},descriptionText:{color:"black"},dialogBanner:{width:"100%",backgroundColor:"#313230",padding:"20px",flexDirection:"row",justifyContent:"center",alignItems:"center"},dialogBoxContent:{padding:"30px",paddingBottom:"15px"},DialogBannerText:{color:"white",fontWeight:600,width:"auto",marginLeft:10,marginRight:10,marginBottom:0},paper:{borderRadius:20}}),ut=["Snyggt kingen!","bra jobbat!","Ge dig sj\xe4lv en klapp p\xe5 axeln","du f\xf6rtj\xe4nar en appl\xe5d!"],mt=function(e){var t=dt(),a=e.handleOpenDialog,n=e.handleCloseDialog,r=e.handleBannerClick,i=e.dialogObj,c=i.text,o=i.img,s=i.descriptionText,l=i.completed;return Object(F.jsxs)(Ye.a,{classes:{paper:t.paper},onClose:n,"aria-labelledby":"simple-dialog-title",open:a,children:[Object(F.jsx)(it.a,{style:{position:"absolute",top:20,right:20},fontSize:"large",onClick:n}),Object(F.jsxs)(Je.a,{className:t.dialogBoxContent,children:[o&&Object(F.jsx)(Ee.a,{className:t.dialogBoxImg,component:"img",alt:"first customer",image:o,title:"First customer"}),Object(F.jsx)(k.a,{variant:"h4",className:t.dialogTitle,children:c}),Object(F.jsx)(Qe.a,{className:t.descriptionText,children:s})]}),Object(F.jsx)(Je.a,{className:t.dialogBanner,style:{backgroundColor:l?"#96CB3C":"#313230"},onClick:r,children:l?Object(F.jsxs)(v.a,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",children:[Object(F.jsx)(nt.a,{className:t.dialogBannerCheck,fontSize:"large"}),Object(F.jsx)(Qe.a,{display:"inline",className:t.DialogBannerText,variant:"h6",children:"Jag har uppn\xe5t detta m\xe5l!"})]}):Object(F.jsxs)(v.a,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",children:[Object(F.jsx)(nt.a,{className:t.dialogBannerCheck,fontSize:"large"}),Object(F.jsx)(Qe.a,{display:"inline",className:t.DialogBannerText,variant:"h6",children:"Klicka h\xe4r om du har uppn\xe5t m\xe5let"}),Object(F.jsx)(tt.a,{fontSize:"large",className:t.filledStar})]})})]})},jt=function(e){var t=e.usedUser,a=dt(),r=Object(n.useState)({}),i=Object(g.a)(r,2),c=(i[0],i[1]),o=Object(n.useState)({open:!1,dialogObj:null}),s=Object(g.a)(o,2),l=s[0],d=s[1],u=Object(n.useState)([]),m=Object(g.a)(u,2),b=m[0],x=m[1],O=Object(n.useState)(!1),y=Object(g.a)(O,2),C=y[0],w=y[1];function I(e){return Object(F.jsx)(q.a,Object(f.a)({elevation:6,variant:"filled"},e))}Object(n.useEffect)((function(){var e=S.a.firestore().collection("companies").doc(t.companies[0].companyId);Object(p.a)(j.a.mark((function t(){var a,n,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get();case 2:a=t.sent,n=a.data(),c(n),r=n.challenges,x([{id:0,text:r[0].text,img:ct,completed:r[0].completed,descriptionText:r[0].descriptionText},{id:1,text:r[1].text,img:lt,completed:r[1].completed,descriptionText:r[1].descriptionText},{id:2,text:r[2].text,img:st,completed:r[2].completed,descriptionText:r[2].descriptionText},{id:3,text:r[3].text,img:ot,completed:r[3].completed,descriptionText:r[3].descriptionText},{id:4,text:r[4].text,img:null,completed:r[4].completed,descriptionText:r[4].descriptionText},{id:5,text:r[5].text,img:null,completed:r[5].completed,descriptionText:r[5].descriptionText},{id:6,text:r[6].text,img:null,completed:r[6].completed,descriptionText:r[6].descriptionText},{id:7,text:r[7].text,img:null,completed:r[7].completed,descriptionText:r[7].descriptionText}]);case 7:case"end":return t.stop()}}),t)})))()}),[t]);var N=function(){var e=Object(p.a)(j.a.mark((function e(a){var n,r,i,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=b.find((function(e){return e.id===a}))).completed=!0,d({open:!0,dialogObj:n}),r=S.a.firestore().collection("companies").doc(t.companies[0].companyId),e.next=6,r.get();case 6:return i=e.sent,c=i.data().challenges,c.find((function(e){return e.id===a})).completed=!0,e.next=12,r.set({challenges:c},{merge:!0}).then((function(){w(!0)})).catch((function(e){console.log(e,"error message")}));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(F.jsxs)(A.a,{children:[Object(F.jsxs)(fe.a,{className:a.root,children:[Object(F.jsxs)(ge.a,{className:a.cardContent,children:[Object(F.jsx)(He,{text:"Utmaning"}),Object(F.jsxs)(h.a,{container:!0,spacing:3,className:a.gridContainer,columns:{xs:4,sm:8,md:12},children:[Object(F.jsxs)(h.a,{item:!0,xs:12,children:[Object(F.jsx)(k.a,{className:a.utmaningDescriptionHeader,children:"Vi utmanar dig"}),Object(F.jsx)(k.a,{className:a.utmaningDescription,children:"Vi vet att du utmanar dig sj\xe4lv bara genom att vara med i Framtidens F\xf6retagare. Nu vill vi utmana dig! Vi har samlat ihop \xe5tta utmaningar till dig - vissa \xe4r sv\xe5rare \xe4n andra!"})]}),b.map((function(e,t){var n=e.id,r=e.text,i=e.img,c=e.completed;return Object(F.jsx)(h.a,{item:!0,xs:12,sm:6,md:6,lg:3,children:Object(F.jsx)(Xe.a,{className:a.gridCard,elevation:2,onClick:function(){return e=t,d({open:!0,dialogObj:b.find((function(t){return t.id===e}))});var e},children:Object(F.jsxs)(ge.a,{className:a.cardContentContainer,children:[i&&Object(F.jsx)(Ee.a,{className:a.cardImage,component:"img",alt:"first customer",image:i,title:"First customer"}),Object(F.jsx)(k.a,{component:"h2",align:"center",className:a.utmaningCardTitle,children:r}),Object(F.jsx)(v.a,{className:a.iconHolder,children:c?Object(F.jsx)(tt.a,{fontSize:"large",className:a.filledStar}):Object(F.jsx)($e.a,{fontSize:"large"})})]})})},n)}))]})]}),Object(F.jsx)(H.a,{open:C,autoHideDuration:3e3,children:Object(F.jsx)(I,{onClick:function(){w(!1)},severity:"success",children:ut[Math.floor(3*Math.random())+1]})})]}),l.open&&Object(F.jsx)(mt,Object(f.a)({handleOpenDialog:function(e){d({open:!0,dialogId:e})},handleCloseDialog:function(){d({open:!1,dialogId:null})},handleBannerClick:Object(p.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",N(l.dialogObj.id));case 1:case"end":return e.stop()}}),e)})))},l))]})},pt=a(333),bt=a.n(pt),ft=a(548),gt=a(549),xt=a(550),ht=a(551),Ot=a(552),vt=a(553),kt=a(561),yt=a(335),Ct=a.n(yt),wt=a(547),It=a(546),Nt=a(334),St=a.n(Nt),Tt=function(e){var t=e.order,a=e.company,i=e.expenseOrProfit,c=e.usedUser,o=e.setUpdatePage,s=r.a.useState(!1),l=Object(g.a)(s,2),d=l[0],u=l[1],m=r.a.useState(!1),h=Object(g.a)(m,2),O=h[0],v=h[1],k=r.a.useState(!1),C=Object(g.a)(k,2),w=C[0],I=C[1],N=Object(n.useState)({comment:"",user:c.firstName}),T=Object(g.a)(N,2),D=T[0],W=T[1],B=function(){u(!1)};function A(e){return Object(F.jsx)(q.a,Object(f.a)({elevation:6,variant:"filled"},e))}function P(){return(P=Object(p.a)(j.a.mark((function e(n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i){e.next=7;break}return e.next=3,S.a.firestore().collection("companies").doc(a.companyId).set({expenses:S.a.firestore.FieldValue.arrayUnion({comment:D.comment,transactionAmount:t.transactionAmount,transactionId:t.transactionId,timestamp:t.timestamp})},{merge:!0});case 3:return e.next=5,S.a.firestore().collection("companies").doc(a.companyId).set({expenses:S.a.firestore.FieldValue.arrayRemove({comment:t.comment,transactionAmount:t.transactionAmount,transactionId:t.transactionId,timestamp:t.timestamp})},{merge:!0}).then((function(e){o(!0),v(!0)})).catch((function(e){console.log(e,"error message")}));case 5:e.next=11;break;case 7:return e.next=9,S.a.firestore().collection("companies").doc(a.companyId).set({profits:S.a.firestore.FieldValue.arrayUnion({comment:D.comment,transactionAmount:t.transactionAmount,transactionId:t.transactionId,timestamp:t.timestamp})},{merge:!0});case 9:return e.next=11,S.a.firestore().collection("companies").doc(a.companyId).set({profits:S.a.firestore.FieldValue.arrayRemove({comment:t.comment,transactionAmount:t.transactionAmount,transactionId:t.transactionId,timestamp:t.timestamp})},{merge:!0}).then((function(e){o(!0),console.log("success",e),v(!0)})).catch((function(e){console.log(e,"error message")}));case 11:u(!1);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(){return(U=Object(p.a)(j.a.mark((function e(n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i){e.next=5;break}return e.next=3,S.a.firestore().collection("companies").doc(a.companyId).set({expenses:S.a.firestore.FieldValue.arrayRemove({comment:t.comment,transactionAmount:t.transactionAmount,transactionId:t.transactionId,timestamp:t.timestamp})},{merge:!0}).then((function(e){o(!0),I(!0)})).catch((function(e){console.log(e,"error message")}));case 3:e.next=7;break;case 5:return e.next=7,S.a.firestore().collection("companies").doc(a.companyId).set({profits:S.a.firestore.FieldValue.arrayRemove({comment:t.comment,transactionAmount:t.transactionAmount,transactionId:t.transactionId,timestamp:t.timestamp})},{merge:!0}).then((function(e){console.log(e," this is the company back"),o(!0),I(!0)})).catch((function(e){console.log(e,"error message")}));case 7:u(!1);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(F.jsxs)("div",{children:[Object(F.jsx)(X.a,{style:{padding:0},children:Object(F.jsx)(St.a,{onClick:function(){u(!0)}})}),Object(F.jsxs)(Ye.a,{open:d,onClose:B,"aria-labelledby":"form-dialog-title",children:[Object(F.jsx)(It.a,{id:"form-dialog-title",children:"Kommentar"}),Object(F.jsxs)(Je.a,{children:[Object(F.jsx)(Qe.a,{children:t.comment}),Object(F.jsx)(x.a,{autoFocus:!0,margin:"dense",id:t.orderId,label:"\xc4ndra kommentar",name:"comment",fullWidth:!0,onChange:function(e){var t=e.target,a=t.name,n=t.value;W((function(e){return Object(f.a)(Object(f.a)({},e),{},Object(b.a)({},a,n))}))}})]}),Object(F.jsxs)(wt.a,{children:[Object(F.jsx)(y.a,{onClick:B,color:"secondary",id:t.orderId,children:"Avbryt"}),Object(F.jsx)(y.a,{onClick:function(){return function(e){return P.apply(this,arguments)}(t)},variant:"contained",color:"secondary",id:t.orderId,children:"Bekr\xe4fta \xe4ndring"}),Object(F.jsx)(y.a,{onClick:function(){return function(e){return U.apply(this,arguments)}(t)},color:"primary",id:t.orderId,children:"Radera"})]})]}),Object(F.jsx)(H.a,{open:O,autoHideDuration:3e3,children:Object(F.jsxs)(A,{onClick:function(){v(!1)},severity:"success",children:["Kommentar \xe4ndrad!"," "]})}),Object(F.jsx)(H.a,{open:w,autoHideDuration:3e3,children:Object(F.jsx)(A,{onClick:function(){I(!1)},severity:"success",children:"inkomst/utgift raderad!"})})]})},Dt=function(e){var t=e.usedUser,a=e.expense,r=Object(n.useState)(0),i=Object(g.a)(r,2),c=i[0],o=i[1],s=Object(n.useState)(0),l=Object(g.a)(s,2),d=l[0],u=l[1],m=Object(n.useState)(5),O=Object(g.a)(m,2),k=O[0],y=(O[1],a),C=ve(),w=(C.user,C.loading,C.logout,Object(n.useState)(!1)),I=Object(g.a)(w,2),N=I[0],T=I[1],D=Object(n.useState)({facebook:"-",instagram:"-"}),W=Object(g.a)(D,2),B=W[0],A=W[1],U=Object(n.useState)(!1),E=Object(g.a)(U,2),z=E[0],M=E[1],V=Object(n.useState)({sum:"",comment:"",expenseOrProfit:y}),R=Object(g.a)(V,2),L=R[0],G=R[1],K=Object(n.useState)(""),_=Object(g.a)(K,2),Y=(_[0],_[1]);function J(e){return Object(F.jsx)(q.a,Object(f.a)({elevation:6,variant:"filled"},e))}var Q=function(e){var t=e.target,a=t.name,n=t.value;G((function(e){return Object(f.a)(Object(f.a)({},e),{},Object(b.a)({},a,n))}))};function Z(e){return $.apply(this,arguments)}function $(){return($=Object(p.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Expense"!==t||!L.expenseOrProfit){e.next=5;break}return e.next=3,S.a.firestore().collection("companies").doc(B.companyId).set({expenses:S.a.firestore.FieldValue.arrayUnion({comment:L.comment,transactionAmount:L.sum,transactionId:Math.random(),timestamp:new Date})},{merge:!0}).then((function(){return T(!0)})).catch((function(e){console.log(e,"error message")}));case 3:e.next=7;break;case 5:return e.next=7,S.a.firestore().collection("companies").doc(B.companyId).set({profits:S.a.firestore.FieldValue.arrayUnion({comment:L.comment,transactionAmount:L.sum,transactionId:Math.random(),timestamp:new Date})},{merge:!0}).then((function(e){T(!0)})).catch((function(e){console.log(e,"error message")}));case 7:M(!0);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)(Object(p.a)(j.a.mark((function e(){var a,n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Y(t),a=S.a.firestore().collection("companies").doc(t.companies[0].companyId),e.next=4,a.get();case 4:n=e.sent,(r=n.data()).expenses.sort((function(e,t){return t.timestamp-e.timestamp})),r.profits.sort((function(e,t){return t.timestamp-e.timestamp})),A(r),M(!1);case 10:case"end":return e.stop()}}),e)}))),[z]),B.website?Object(F.jsxs)(fe.a,{children:[Object(F.jsx)(Ne.a,{title:a?"Utgifter":"Inkomster",subheader:a?"H\xe4r skriver du in dina utgifter":"H\xe4r skriver du in dina inkomster"}),Object(F.jsxs)(h.a,{container:!0,spacing:3,style:{padding:5},children:[Object(F.jsx)(h.a,{item:!0,lg:4,md:4,xl:4,xs:12,children:Object(F.jsx)(x.a,{variant:"outlined",required:!0,fullWidth:!0,label:"Summa",name:"sum",autoComplete:"sum",onChange:Q})}),Object(F.jsx)(h.a,{item:!0,lg:4,md:4,xl:4,xs:12,children:Object(F.jsx)(x.a,{variant:"outlined",required:!0,fullWidth:!0,label:"kommentar",name:"comment",autoComplete:"comment",onChange:Q})}),Object(F.jsx)(h.a,{item:!0,lg:4,md:4,xl:4,xs:12,children:Object(F.jsx)(X.a,{style:{padding:0},onClick:y?function(){Z("Expense")}:function(){Z("Profit")},children:Object(F.jsx)(Ct.a,{fontSize:"large"})})})]}),Object(F.jsx)(P.a,{}),Object(F.jsx)(bt.a,{children:Object(F.jsx)(v.a,{sx:{minWidth:800},children:Object(F.jsxs)(ft.a,{children:[Object(F.jsx)(gt.a,{children:Object(F.jsxs)(xt.a,{children:[Object(F.jsx)(ht.a,{children:"Summa"}),Object(F.jsx)(ht.a,{sortDirection:"desc",children:"Datum"}),Object(F.jsx)(ht.a,{children:"\xc4ndra"})]})}),Object(F.jsx)(Ot.a,{children:y?B.expenses[0]?B.expenses.slice(c*k,c*k+k).map((function(e,a){var n=new Date(e.timestamp.seconds);return Object(F.jsxs)(xt.a,{hover:!0,children:[Object(F.jsxs)(ht.a,{children:[e.transactionAmount," Sek"]}),Object(F.jsx)(ht.a,{children:Ie()(1e3*n).format("YYYY-MM-DD")}),Object(F.jsx)(ht.a,{children:Object(F.jsx)(Tt,{order:e,company:B,expenseOrProfit:y,usedUser:t,setUpdatePage:M})})]},e.transactionId)})):null:B.profits[0]?B.profits.slice(d*k,d*k+k).map((function(e,a){return Object(F.jsxs)(xt.a,{hover:!0,children:[Object(F.jsxs)(ht.a,{children:[e.transactionAmount," Sek"]}),Object(F.jsx)(ht.a,{children:Ie()(e.createdAt).format("DD/MM/YYYY")}),Object(F.jsx)(ht.a,{children:Object(F.jsx)(Tt,{order:e,company:B,expenseOrProfit:y,usedUser:t,setUpdatePage:M})})]},e.transactionid)})):null}),Object(F.jsx)(vt.a,{children:Object(F.jsx)(xt.a,{children:Object(F.jsx)(kt.a,{rowsPerPageOptions:5,colSpan:3,count:y?B.expenses.length:B.profits.length,rowsPerPage:k,page:y?c:d,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onChangePage:y?function(e,t){console.log(t,c,"hall\xe5"),o(t)}:function(e,t){u(t)}})})})]})})}),Object(F.jsx)(H.a,{open:N,autoHideDuration:3e3,children:Object(F.jsxs)(J,{onClick:function(){T(!1)},severity:"success",children:["Ny utgift/inkomst tillagd!"," "]})})]}):null},Ft=a(345),Wt=a(22),Bt=function(e){var t=e.usedUser,a=Object(je.a)(),r=Object(n.useState)(""),i=Object(g.a)(r,2),c=(i[0],i[1]),o=Object(n.useState)({facebook:"-",instagram:"-"}),s=Object(g.a)(o,2),l=s[0],d=s[1],u=Object(n.useState)({expenses:0,profits:0}),m=Object(g.a)(u,2),b=m[0],f=m[1],x={datasets:[{data:[b.profits,b.expenses],backgroundColor:[Wt.a.indigo[500],Wt.a.red[600],Wt.a.orange[600]],borderWidth:8,borderColor:Wt.a.common.white,hoverBorderColor:Wt.a.common.white}],labels:["Inkomster","Utgifter"]},h={animation:!1,cutoutPercentage:80,layout:{padding:0},height:500,width:500,legend:{display:!1},maintainAspectRatio:!1,responsive:!0,tooltips:{backgroundColor:a.palette.background.paper,bodyFontColor:a.palette.text.secondary,borderColor:a.palette.divider,borderWidth:1,enabled:!0,footerFontColor:a.palette.text.secondary,intersect:!1,mode:"index",titleFontColor:a.palette.text.primary}};return Object(n.useEffect)(Object(p.a)(j.a.mark((function e(){var a,n,r,i,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(t),a=S.a.firestore().collection("companies").doc(t.companies[0].companyId),e.next=4,a.get();case 4:n=e.sent,(r=n.data()).expenses.sort((function(e,t){return t.timestamp-e.timestamp})),r.profits.sort((function(e,t){return t.timestamp-e.timestamp})),i=0,o=0,r.expenses.length>=1&&(i=r.expenses.map((function(e){return e.transactionAmount})).reduce((function(e,t){return+e+ +t}))),r.profits.length>=1&&(o=r.profits.map((function(e){return e.transactionAmount})).reduce((function(e,t){return+e+ +t}))),f({expenses:i,profits:o}),d(r);case 14:case"end":return e.stop()}}),e)}))),[]),l.website?Object(F.jsxs)(fe.a,{children:[Object(F.jsx)(Ne.a,{title:"Alla inkomster och utgifter"}),Object(F.jsx)(P.a,{}),Object(F.jsxs)(ge.a,{children:[Object(F.jsx)(v.a,{children:Object(F.jsx)(Ft.a,{data:x,options:h})}),Object(F.jsxs)(v.a,{sx:{display:"flex",justifyContent:"center",pt:2},children:[Object(F.jsxs)(v.a,{sx:{p:1,textAlign:"center"},children:[Object(F.jsx)(k.a,{color:"textPrimary",variant:"body1",children:"Inkomster"}),Object(F.jsxs)(k.a,{style:{color:Wt.a.indigo[500]},variant:"h4",children:[b.profits,"Kr"]})]},"Utgifter"),Object(F.jsxs)(v.a,{sx:{p:1,textAlign:"center"},children:[Object(F.jsx)(k.a,{color:"textPrimary",variant:"body1",children:"Utgifter"}),Object(F.jsxs)(k.a,{style:{color:Wt.a.red[600]},variant:"h4",children:[b.expenses,"Kr"]})]},"Inkomster"),Object(F.jsxs)(v.a,{sx:{p:1,textAlign:"center"},children:[Object(F.jsx)(k.a,{color:"textPrimary",variant:"body1",children:"Totalt"}),Object(F.jsxs)(k.a,{style:{color:Wt.a.lightGreen[600]},variant:"h4",children:[+b.profits-+b.expenses,"Kr"]})]},"Totalt")]})]})]}):null},At=function(e){var t=e.usedUser,a="companies"in t,r=Object(n.useState)(""),i=Object(g.a)(r,2),c=(i[0],i[1]),o=Object(n.useState)({facebook:"-",instagram:"-",website:"-"}),s=Object(g.a)(o,2),l=(s[0],s[1]);return Object(n.useEffect)(Object(p.a)(j.a.mark((function e(){var a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(t),a=S.a.firestore().collection("companies").doc(t.companies[0].companyId),e.next=4,a.get();case 4:n=e.sent,l(n.data());case 6:case"end":return e.stop()}}),e)}))),[]),a?Object(F.jsxs)(A.a,{children:[Object(F.jsxs)(fe.a,{children:[Object(F.jsx)(He,{text:"Pengakollen"}),Object(F.jsx)(Ne.a,{subheader:"Att h\xe5lla koll p\xe5 ekonomin \xe4r viktigt. Pengar in (int\xe4kter) och pengar ut (utgifter) ber\xe4ttar om ditt f\xf6retags resultat - det vill s\xe4ga hur mycket vinst eller f\xf6rlust ditt f\xf6retag g\xe5r. ,, Gl\xf6m inte bort att bokf\xf6ra varje k\xf6p eller f\xf6rs\xe4ljning. Avvara lite tid n\xe4r din arbetsdag \xe4r \xf6ver s\xe5 har du stenkoll p\xe5 din ekonomi under sommaren. ",title:"H\xe5ll koll p\xe5 ekonomin!"})]}),Object(F.jsxs)(h.a,{container:!0,spacing:3,style:{marginTop:10},children:[Object(F.jsx)(h.a,{item:!0,xs:12,md:6,children:Object(F.jsx)(Dt,{usedUser:t,expense:!0})}),Object(F.jsx)(h.a,{item:!0,xs:12,md:6,children:Object(F.jsx)(Dt,{usedUser:t})}),Object(F.jsx)(h.a,{item:!0,xs:12,children:Object(F.jsx)(Bt,{usedUser:t})})]})]}):Object(F.jsx)(A.a,{children:Object(F.jsx)(fe.a,{style:{background:"white",paddingTop:20,paddingBottom:20},children:Object(F.jsx)(k.a,{align:"center",variant:"h4",children:"Start or join a company first"})})})},Pt=a.p+"static/media/Logga-framtidsportalen.61846cab.png",Ut=a.p+"static/media/framtidsportalen-logga_alt.7564bdbe.png",Ht=a(338),Et=a.n(Ht),zt=Object(me.a)({root:{display:"flex",flexDirection:"column",justifyContent:"center"}}),qt=function(e){var t=e.companies,a=zt();return Object(F.jsxs)(fe.a,{sx:{display:"flex",flexDirection:"column",height:"100%"},children:[Object(F.jsxs)(ge.a,{children:[Object(F.jsx)(h.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",children:t.companyImage?Object(F.jsx)(Ee.a,{component:"img",alt:"company image",image:t.companyImage,title:"Company Image",style:{borderRadius:200,height:200,width:200}}):Object(F.jsx)(G.a,{src:Pt,style:{alignItems:"center",display:"flex",flexDirection:"column",height:200,width:200}})}),Object(F.jsx)(k.a,{align:"center",color:"textPrimary",gutterBottom:!0,variant:"h5",children:t.companyName}),Object(F.jsxs)(k.a,{align:"center",color:"textSecondary",variant:"body1",children:[t.points," Po\xe4ng"]})]}),Object(F.jsx)(v.a,{sx:{flexGrow:1}}),Object(F.jsx)(P.a,{}),Object(F.jsxs)(v.a,{display:"flex",style:{padding:15,paddingLeft:10},children:[Object(F.jsx)(Et.a,{style:{fontSize:30,marginRight:10}}),Object(F.jsx)(o.b,{to:{pathname:"https://www.".concat(t.instagram)},target:"_blank",className:a.root,children:Object(F.jsx)(k.a,{color:"textSecondary",display:"block",variant:"body2",children:t.instagram})})]})]})};var Mt=function(e){e.usedUser;var t=Object(n.useState)([{}]),a=Object(g.a)(t,2),r=a[0],i=a[1];return Object(n.useEffect)(Object(p.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,S.a.firestore().collection("companies").get().then((function(e){e.docs.forEach((function(e){t.push(e.data())}))})).then((function(e){t.forEach((function(e){var t=0,a=0,n=0;e.expenses.length>=1&&(t=e.expenses.map((function(e){return e.transactionAmount})).reduce((function(e,t){return+e+ +t}))),e.profits.length>=1&&(a=e.profits.map((function(e){return e.transactionAmount})).reduce((function(e,t){return+e+ +t}))),e.challenges.forEach((function(e){0==e.id||1==e.id||2==e.id||3==e.id?e.completed&&(n+=20):e.completed&&(n+=10)})),e.points=a-t>0?Math.round((a-t)/50)+n:n})),t=t.sort((function(e,t){return t.points-e.points})),console.log(t,"this is the total points"),i(t)}));case 3:case"end":return e.stop()}}),e)}))),[]),r.length<1?Object(F.jsx)("div",{children:" no company "}):Object(F.jsx)(F.Fragment,{children:Object(F.jsx)(v.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(F.jsx)(A.a,{maxWidth:!1,children:Object(F.jsx)(v.a,{sx:{pt:3},children:Object(F.jsx)(h.a,{container:!0,spacing:3,children:r.map((function(e){return Object(F.jsx)(h.a,{item:!0,lg:4,md:6,xs:12,children:Object(F.jsx)(qt,{companies:e})},e.companyId)}))})})})})})},Vt=240,Rt=[Object(F.jsx)(ne.a,{}),Object(F.jsx)(ie.a,{}),Object(F.jsx)(oe.a,{}),Object(F.jsx)(le.a,{}),Object(F.jsx)(be.a,{}),Object(F.jsx)(ie.a,{}),Object(F.jsx)(ue.a,{})],Lt=["Min Profil","Mitt F\xf6retag","Pengakollen","Utmaning","Alla F\xf6retag"],Gt=Object(me.a)((function(e){var t;return{root:{display:"flex"},drawer:Object(b.a)({},e.breakpoints.up("sm"),{width:Vt,flexShrink:0}),appBar:(t={},Object(b.a)(t,e.breakpoints.up("sm"),{width:"calc(100% - ".concat(Vt,"px)"),marginLeft:Vt}),Object(b.a)(t,"backgroundColor","#96CB3C"),t),menuButton:Object(b.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:{width:Vt},content:{flexGrow:1,paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},avatar:{height:110,width:110,flexShrink:0,flexGrow:0,marginTop:20}}}));var Kt=function(e){var t=e.window,a=Gt(),i=Object(je.a)(),c=r.a.useState(!1),o=Object(g.a)(c,2),l=o[0],d=o[1],u=Object(n.useState)("Min Profil"),m=Object(g.a)(u,2),j=m[0],p=m[1],b=ve(),f=b.user,x=b.loading,h=b.logout,v=Object(n.useState)({}),y=Object(g.a)(v,2),C=y[0],w=y[1];if(Object(n.useEffect)((function(){f&&S.a.firestore().collection("users").doc(f.uid).get().then((function(e){e.exists?w(e.data()):console.log("No such document!")})).catch((function(e){console.log("******\nDATA\n******: ResponsiveDrawer -> error",e)}))}),[f]),x)return null;if(!f)return Object(F.jsx)(s.a,{to:"/login"});var I=function(){d(!l)},N=Object(F.jsxs)("div",{children:[Object(F.jsx)("div",{className:a.toolbar}),Object(F.jsx)(P.a,{}),Object(F.jsx)(L.a,{children:Object(F.jsxs)("center",{children:[Object(F.jsx)(G.a,{src:Pt,className:a.avatar}),Object(F.jsxs)("p",{children:[" ",C.firstName," ",C.lastName]})]})}),Object(F.jsxs)(L.a,{children:[Lt.map((function(e,t){var a=j===e;return Object(F.jsxs)(K.a,{style:{backgroundColor:a?"#96CB3C":"inherit"},button:!0,onClick:function(){return p(e)},children:[Object(F.jsx)(_.a,{children:Rt[t]}),Object(F.jsx)(Y.a,{disableTypography:!0,primary:Object(F.jsx)(k.a,{type:"body1",style:{fontWeight:a?"600":"400"},children:e})})]},e)})),Object(F.jsxs)(K.a,{button:!0,onClick:h,children:[Object(F.jsx)(_.a,{children:Rt[6]}),Object(F.jsx)(Y.a,{primary:"logga ut"})]})]})]}),T=void 0!==t?function(){return t().document.body}:void 0;return Object(F.jsxs)("div",{className:a.root,style:{backgroundImage:"url(".concat(D,")"),backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"repeat-y",backgroundAttachment:"fixed",minHeight:"100vh",width:"100%",height:"100%"},children:[Object(F.jsx)(O.a,{}),Object(F.jsx)(J.a,{position:"fixed",className:a.appBar,children:Object(F.jsxs)(Q.a,{children:[Object(F.jsx)(X.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:I,className:a.menuButton,children:Object(F.jsx)(te.a,{})}),Object(F.jsx)("img",{src:Ut,alt:"framtidens portal banner",style:{height:50}})]})}),Object(F.jsxs)("nav",{className:a.drawer,"aria-label":"mailbox folders",children:[Object(F.jsx)(Z.a,{smUp:!0,implementation:"css",children:Object(F.jsx)($.a,{container:T,variant:"temporary",anchor:"rtl"===i.direction?"right":"left",open:l,onClose:I,classes:{paper:a.drawerPaper},ModalProps:{keepMounted:!0},children:N})}),Object(F.jsx)(Z.a,{xsDown:!0,implementation:"css",children:Object(F.jsx)($.a,{classes:{paper:a.drawerPaper},variant:"permanent",open:!0,children:N})})]}),Object(F.jsxs)("main",{className:a.content,children:[Object(F.jsx)("div",{className:a.toolbar}),Object(F.jsx)("div",{children:Object.keys(C).length>0?function(){switch(j){case"Min Profil":return Object(F.jsx)(_e,{usedUser:C});case"Mitt F\xf6retag":return Object(F.jsx)(Le,{usedUser:C});case"Pengakollen":return Object(F.jsx)(At,{usedUser:C});case"Utmaning":return Object(F.jsx)(jt,{usedUser:C});case"Alla F\xf6retag":return Object(F.jsx)(Mt,{usedUser:C});default:return null}}():null})]})]})},_t=u()({palette:{primary:{light:"#33c9dc",main:"#FF5722",dark:"#d50000",contrastText:"#fff"}}});var Yt=function(){return Object(F.jsx)(l.a,{theme:_t,children:Object(F.jsx)(o.a,{basename:"leftmind.github.io",children:Object(F.jsx)("div",{children:Object(F.jsx)(Oe,{children:Object(F.jsxs)(s.d,{children:[Object(F.jsx)(s.b,{exact:!0,path:"/",component:Kt}),Object(F.jsx)(s.b,{exact:!0,path:"/login",component:B}),Object(F.jsx)(s.b,{exact:!0,path:"/signup",component:R})]})})})})})};c.a.render(Object(F.jsx)(r.a.StrictMode,{children:Object(F.jsx)(Yt,{})}),document.getElementById("root"))}},[[496,1,2]]]);
//# sourceMappingURL=main.8f1130bf.chunk.js.map